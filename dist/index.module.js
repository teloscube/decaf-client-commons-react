import{buildDecafClient as n}from"@decafhub/decaf-client";import e,{useContext as t,useEffect as i}from"react";var o=e.createContext({client:void 0}),r=function(){return t(o)};function a(n){return e.createElement("div",{className:"spinner-wrapper"},e.createElement("style",null,"\n    .spinner-wrapper {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100vh;\n      flex-direction: column;\n    }\n    .spinner-text {\n      color: "+(n.titleColor||"#255d91")+";\n    }\n    .spinner {\n      width: "+(n.size||"40px")+";\n      height: "+(n.size||"40px")+";\n      position: relative;\n      margin: 10px auto;\n    }\n\n    .double-bounce1,\n    .double-bounce2 {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-color: "+(n.color||"#1890ff")+";\n      opacity: 0.6;\n      position: absolute;\n      top: 0;\n      left: 0;\n\n      -webkit-animation: sk-bounce 2s infinite ease-in-out;\n      animation: sk-bounce 2s infinite ease-in-out;\n    }\n\n    .double-bounce2 {\n      -webkit-animation-delay: -1s;\n      animation-delay: -1s;\n    }\n\n    @-webkit-keyframes sk-bounce {\n      0%,\n      100% {\n        -webkit-transform: scale(0);\n      }\n      50% {\n        -webkit-transform: scale(1);\n      }\n    }\n\n    @keyframes sk-bounce {\n      0%,\n      100% {\n        transform: scale(0);\n        -webkit-transform: scale(0);\n      }\n      50% {\n        transform: scale(1);\n        -webkit-transform: scale(1);\n      }\n    }\n  "),e.createElement("div",{className:"spinner"},e.createElement("div",{className:"double-bounce1"}),e.createElement("div",{className:"double-bounce2"})),n.title&&e.createElement("p",{className:"spinner-text"},n.title))}function c(t){var r=e.useState(void 0),c=r[0],l=r[1],s=e.useState(!0),u=s[0],m=s[1];return i(function(){var e,t=(e=function(){var n,e=null==(n=document.cookie.split(";").map(function(n){return n.trim().split("=")}).filter(function(n){return"ember_simple_auth-session"===n[0]})[0])?void 0:n[1];if(e)try{var t,i=JSON.parse(e);return null==i||null==(t=i.authenticated)?void 0:t.token}catch(n){return void console.error("Can not parse authentication information!")}}())?n("",{token:e}):void 0;t?t.barista.get("/healthchecks/").then(function(){l(t),m(!1)}).catch(function(){l(void 0),m(!1)}):(m(!1),l(void 0))},[]),u?e.createElement(a,{title:"Please Wait..."}):void 0===c?(window.location.href="/webapps/waitress/production/?next="+window.location.href,null):e.createElement(o.Provider,{value:{client:c}},t.children)}export{c as DecafApp,a as DecafSpinner,r as useDecaf};
//# sourceMappingURL=index.module.js.map
